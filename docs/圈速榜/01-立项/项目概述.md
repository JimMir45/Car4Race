# Car4Race 圈速榜 - 项目概述

## 1. 项目背景

### 1.1 问题陈述

赛道日爱好者在记录和分享个人圈速成绩时面临以下痛点：

| 痛点 | 描述 |
|------|------|
| **记录分散** | 成绩散落在手机相册、RaceChrono、微信聊天记录中，难以统一管理 |
| **无处对比** | 现有榜单（官方榜、大V榜）只展示媒体/职业车手成绩，普通车友无法参与 |
| **山路无榜** | 山路/峠道爱好者没有正规的成绩记录和分享平台 |
| **真伪难辨** | 社区分享的成绩缺乏验证机制，吹牛成本为零 |

俱乐部/组织方在管理赛道日活动时也面临痛点：

| 痛点 | 描述 |
|------|------|
| **成绩管理混乱** | 赛道日成绩用 Excel 记录，难以长期维护和展示 |
| **缺乏品牌展示** | 没有专属的榜单页面，无法展示俱乐部/赞助商品牌 |
| **会员管理困难** | 成员成绩分散，无法统一管理和对比 |

### 1.2 市场现状

#### 现有计时工具

| 产品 | 定位 | 局限性 |
|------|------|--------|
| RaceChrono Pro | 专业GPS计时+数据分析 | 侧重记录，无社区榜单 |
| QRacing | GPS计时（需配套硬件） | 依赖专用设备，成本高 |
| CircuitStorm | 赛道计时器 | 无中文、无国内赛道 |

#### 现有圈速榜单

| 榜单 | 数据来源 | 用户可参与 |
|------|----------|------------|
| 赛道官方榜（浙赛、上赛等） | 官方计时系统 | ❌ |
| 键盘车神教锐思/金港榜 | 媒体测试 | ❌ |
| 懂车帝实测榜 | 媒体统一测试 | ❌ |
| 51GT3 | 职业赛事成绩 | ❌ |

**市场空白**：没有面向普通赛道日爱好者的「个人圈速记录 + 社区榜单」产品。

---

## 2. 解决方案

### 2.1 产品定义

**Car4Race 圈速榜** —— 面向赛道日爱好者的个人圈速记录本 + 车友圈速社区 + 组织专属榜单

### 2.2 核心价值

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         Car4Race 圈速榜                                  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐               │
│   │   C端：个人   │   │  C端：社区   │   │   B端：组织   │               │
│   ├──────────────┤   ├──────────────┤   ├──────────────┤               │
│   │ • GPS计时    │   │ • 综合榜单   │   │ • 组织榜单   │               │
│   │ • 数据导入   │   │ • 个人上榜   │   │ • 成员管理   │               │
│   │ • 最佳管理   │   │ • 投票验证   │   │ • 品牌展示   │               │
│   │ • 山路标记   │   │ • 车型分类   │   │ • 成绩审核   │               │
│   └──────────────┘   └──────────────┘   └──────────────┘               │
│                                                                          │
│   对个人：统一管理所有练习成绩，个人最佳可公开上榜                         │
│   对社区：汇聚官方/大V/个人成绩，投票机制保障真实性                        │
│   对组织：专属榜单页面，管理成员成绩，展示品牌形象                         │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.3 商业模式

| 用户类型 | 收费模式 | 说明 |
|----------|----------|------|
| **C端个人用户** | 免费 | 基础功能全部免费 |
| **B端组织用户** | 按年付费 | 俱乐部/媒体/组织方付费使用 |

**B端服务形式**：
- **SaaS 模式**：组织在平台上开通专属榜单，数据托管在平台
- **私有化部署**：为大客户单独部署整套系统，完全独立

---

## 3. 项目目标

### 3.1 业务目标

| 目标 | 衡量指标 |
|------|----------|
| 成为赛道日爱好者的首选记录工具 | 月活用户数 |
| 建立可信的民间圈速榜单 | 榜单收录成绩数、投票参与率 |
| 聚合国内主流圈速数据 | 数据覆盖赛道数、数据源数量 |
| 服务俱乐部/组织方 | B端付费客户数、续费率 |

### 3.2 技术目标

| 目标 | 说明 |
|------|------|
| 与 HPA 共用用户体系 | 统一登录、用户数据互通 |
| 稳定的爬虫系统 | 每日凌晨5点自动更新数据 |
| 可靠的 GPS 计时 | 山路起终点触发计时 |

---

## 4. MVP 范围

### 4.1 场地支持

| 场地类型 | MVP 支持 | 说明 |
|----------|----------|------|
| **赛道** | ✅ | 爬取国内主流赛道数据 |
| **山路** | ✅ | 用户 GPS 标记起终点 |
| **卡丁车场** | ❌ | 后续版本迭代 |

### 4.2 功能范围

| 功能模块 | 优先级 | MVP |
|----------|--------|-----|
| 个人练习记录 | P0 | ✅ |
| 个人最佳成绩管理 | P0 | ✅ |
| GPS 计时（山路） | P0 | ✅ |
| RaceChrono 数据导入 | P1 | ✅ |
| 赛道库（爬取） | P1 | ✅ |
| 山路标记系统 | P1 | ✅ |
| 个人成绩上榜 | P1 | ✅ |
| 投票验证机制 | P1 | ✅ |
| 综合榜单展示 | P1 | ✅ |
| **组织创建与管理** | P1 | ✅ |
| **组织成员管理** | P1 | ✅ |
| **组织专属榜单** | P1 | ✅ |
| **组织品牌展示** | P1 | ✅ |
| 官方/大V 成绩爬取 | P2 | ⚠️ |
| 申诉系统 | P2 | ⚠️ 简化版 |
| 卡丁车场支持 | P3 | ❌ |

### 4.3 不在 MVP 范围

- 卡丁车场支持
- 分段计时（Sector）
- RaceChrono API 对接（仅支持文件导入）
- 复杂的用户等级/信用体系
- 组织多级权限（仅支持管理员+成员两级）

---

## 5. 核心概念

### 5.1 用户角色

| 角色 | 说明 | 权限 |
|------|------|------|
| **游客** | 未登录用户 | 浏览榜单 |
| **注册用户** | 已登录用户 | 记录成绩、上榜、投票、标记山路、申请加入组织 |
| **组织成员** | 加入某组织的用户 | 在组织榜单记录成绩 |
| **组织管理员** | 组织的管理者 | 审批成员、审核成绩、管理组织信息 |
| **系统管理员** | 平台管理员 | 审核申诉、管理数据、管理组织 |

### 5.2 组织类型

| 类型 | 说明 | 示例 |
|------|------|------|
| **俱乐部** | 汽车俱乐部、车友会 | XX性能车俱乐部 |
| **赛道日组织方** | 组织赛道日活动的机构 | XX赛道日 |
| **媒体/车评人** | 汽车媒体、自媒体 | 键盘车神教 |
| **改装店/服务商** | 改装店、赛车服务商 | XX改装店 |

### 5.3 成绩类型

| 类型 | 来源 | 可信度 | 说明 |
|------|------|--------|------|
| **官方成绩** | 爬虫抓取 | 最高 | 赛道官方计时系统数据 |
| **大V成绩** | 爬虫抓取 | 高 | 键盘车神教、懂车帝等媒体测试 |
| **组织成绩** | 组织上传 | 高 | 组织管理员审核通过的成绩 |
| **个人成绩** | 用户上传 | 需验证 | 用户自行记录，需投票验证 |

### 5.4 成绩归属

```
用户记录成绩
      │
      ├─────────────────────────────────────┐
      │                                     │
      ▼                                     ▼
  个人成绩                              组织成绩
  (归属个人)                            (归属组织)
      │                                     │
      ▼                                     ▼
  可选公开上榜 ───────────────────────► 综合榜单
  (需投票验证)                          (可选同步)
```

**成绩双归属**：组织成员的成绩可同时归属于：
1. **组织榜单**：自动进入，由组织管理员审核
2. **综合榜单**：可选公开，需投票验证

### 5.5 场地类型

| 类型 | 数据来源 | 用户可新增 | 说明 |
|------|----------|------------|------|
| **赛道** | 爬虫抓取 | ❌ | 国内正规赛道，约20-30个 |
| **山路** | 用户标记 | ✅ | 用户 GPS 标记起终点，自定义命名 |

### 5.6 改装程度分级

| 等级 | 名称 | 典型改装内容 |
|------|------|-------------|
| 0 | 原厂 | 完全原厂状态 |
| 1 | 轻度改装 | 刹车片/避震/轮胎升级 |
| 2 | 中度改装 | 轮毂/ECU/进排气改装 |
| 3 | 赛化改装 | 防滚架/赛车座椅/无限制改装 |

---

## 6. 核心业务规则

### 6.1 成绩上榜规则

```
用户记录成绩
      │
      ▼
是否为个人最佳？ ──否──→ 仅保存到个人记录
      │
     是
      ▼
是否公开上榜？ ──否──→ 保存为私密最佳
      │
     是
      ▼
必填项检查：
• 成绩照片（官方计时截图）✓
• 视频（随车录制）✓
      │
      ▼
进入待验证状态
      │
      ▼
系统分配 10 名投票用户
（同赛道有成绩用户优先）
      │
      ▼
  ┌───┴───┐
  │       │
<5票假   ≥5票假
  │       │
  ▼       ▼
成绩上榜  成绩作废
         + 禁止上榜
         + 可申诉
```

### 6.2 山路标记规则

| 规则 | 说明 |
|------|------|
| **创建** | 用户通过 GPS 在地图上标记起点和终点 |
| **命名** | 创建者自定义路段名称 |
| **唯一性** | 同一路段只能被一人标记 |
| **共享** | 标记后其他用户可使用 |
| **申诉** | 3 人认为不合理可发起申诉 |
| **审核** | 管理员审核后取消/修改标记 |

### 6.3 山路计时规则

1. 用户同意免责声明后开启计时功能
2. GPS 通过起点 → 开始计时
3. GPS 通过终点 → 结束计时
4. 上榜需上传视频（需脱敏：无车牌、无人脸）

### 6.4 投票验证规则

| 规则 | 说明 |
|------|------|
| **投票人数** | 10 人 |
| **投票人选取** | 同赛道有成绩用户优先，其次随机活跃用户 |
| **作废阈值** | ≥5 票认为「假」则成绩作废 |
| **惩罚** | 成绩作废后，用户丧失上榜资格 |
| **申诉** | 用户可对投票结果发起申诉 |
| **审核** | 管理员审核申诉，决定是否恢复上榜资格 |

### 6.5 数据爬取规则

| 数据源 | 内容 | 更新频率 |
|--------|------|----------|
| 51GT3 | 赛事官方成绩、车手数据 | 每日凌晨 5:00 |
| 键盘车神教 | 锐思榜、金港榜、大V榜 | 每日凌晨 5:00 |
| 赛道官方微博 | 浙赛、上赛等官方成绩 | 每日凌晨 5:00 |
| 懂车帝实测榜 | 媒体统一测试成绩 | 每日凌晨 5:00 |

### 6.6 组织管理规则

#### 组织创建与开通

| 步骤 | 说明 |
|------|------|
| 1. 申请开通 | 组织方联系平台，签订服务协议 |
| 2. 创建组织 | 平台为组织创建账号，设置管理员 |
| 3. 品牌配置 | 上传 Logo、封面图、设置主题色、配置赞助商 |
| 4. 正式使用 | 组织管理员开始管理成员和成绩 |

#### 成员管理规则

| 规则 | 说明 |
|------|------|
| **加入方式** | 用户申请，组织管理员审批 |
| **成员角色** | 管理员 / 普通成员（两级） |
| **退出机制** | 成员可主动退出，管理员可移除成员 |
| **多组织** | 一个用户可加入多个组织 |

#### 组织成绩规则

| 规则 | 说明 |
|------|------|
| **记录方式** | 成员在组织内记录成绩 |
| **审核机制** | 组织管理员审核（无需公开投票） |
| **公开上榜** | 成员可选择将成绩同步到综合榜单（需投票验证） |
| **成绩备注** | 可备注活动信息，如"2025年1月浙赛赛道日" |

#### 组织品牌展示

| 功能 | 说明 |
|------|------|
| **Logo/封面** | 组织专属榜单页面展示 Logo 和封面图 |
| **主题色** | 可自定义榜单页面主题色 |
| **赞助商** | 可配置赞助商展示位（Logo + 链接） |
| **专属链接** | 组织拥有专属榜单页面 URL |

---

## 7. 成功标准

### 7.1 MVP 验收标准

| 功能 | 验收标准 |
|------|----------|
| 个人记录 | 用户可完整记录一次练习成绩 |
| GPS 计时 | 山路计时误差 < 1 秒 |
| 数据导入 | 成功导入 RaceChrono CSV 文件 |
| 榜单展示 | 正确展示综合榜单，支持车型筛选 |
| 投票验证 | 完成一次完整的投票流程 |
| 爬虫系统 | 每日凌晨 5 点自动执行，数据入库 |
| 组织创建 | 成功创建组织，配置品牌信息 |
| 成员管理 | 用户申请加入、管理员审批流程正常 |
| 组织榜单 | 正确展示组织专属榜单页面 |
| 组织成绩 | 成员记录成绩、管理员审核流程正常 |

### 7.2 关键指标

| 指标 | 目标 |
|------|------|
| 首月注册用户 | 待定 |
| 首月记录成绩数 | 待定 |
| 投票参与率 | 待定 |
| B端付费组织数 | 待定 |

---

## 8. 风险评估

| 风险 | 影响 | 应对措施 |
|------|------|----------|
| 爬虫被封禁 | 数据源中断 | 降低频率、增加代理、手动补录 |
| 用户刷票 | 验证机制失效 | 限制投票资格、管理员巡查 |
| 山路合规问题 | 法律风险 | 免责声明、视频脱敏要求 |
| GPS 精度不足 | 计时不准 | 提示用户使用外置 GPS、容差设计 |

---

## 9. 项目关系

### 9.1 与 HPA 的关系

| 方面 | 说明 |
|------|------|
| **用户体系** | 共用，统一登录 |
| **技术栈** | 共用（Go + Vue3 + SQLite） |
| **部署** | 可独立部署，也可整合 |
| **数据** | 用户表共用，业务表独立 |

### 9.2 项目结构

```
Car4Race/
├── docs/
│   ├── README.md              # HPA 文档导航
│   ├── 01-立项/               # HPA 立项文档
│   ├── 02-设计/               # HPA 设计文档
│   ├── ...
│   └── 圈速榜/                # 圈速榜独立文档
│       ├── 01-立项/
│       ├── 02-设计/
│       ├── 03-测试/
│       ├── 04-部署/
│       └── 05-运营/
├── bilibili-video-manager/    # 已有子应用
└── lap-tracker/               # 圈速榜代码（待开发）
```

---

## 10. 术语表

| 术语 | 说明 |
|------|------|
| **圈速** | 单圈完成时间，格式 mm:ss.xxx |
| **Lap Time** | 圈速的英文表述 |
| **赛道日** | Track Day，赛道开放给普通车友练习的活动 |
| **峠/Touge** | 山路，源自日语，常用于形容盘山公路 |
| **Sector** | 分段，将一圈划分为多个区段分别计时 |
| **PB** | Personal Best，个人最佳成绩 |
| **大V榜** | 汽车媒体/KOL 维护的非官方圈速榜单 |
| **改装程度** | 车辆相对原厂状态的改装级别（0-3级） |
| **组织** | B端付费客户，如俱乐部、赛道日组织方、媒体等 |
| **组织榜单** | 组织的专属圈速榜单页面 |
| **综合榜单** | 平台公开榜单，汇聚官方/大V/个人成绩 |
| **SaaS** | 软件即服务，组织使用平台托管的服务 |
| **私有化部署** | 为客户单独部署整套系统 |
